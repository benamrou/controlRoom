1/18/2024 22:4:14 [alert] 3: "BEGIN PKREQUESTMANAGER.CALLQUERY(3,'NOT0000001','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,,}','{HN}', :cursor); END;"
1/18/2024 22:4:16 [alert] alert: "Garbage collector issue {}"
1/18/2024 22:5:24 [alert] 4: "BEGIN PKREQUESTMANAGER.CALLQUERY(4,'NOT0000001','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,,}','{HN}', :cursor); END;"
1/18/2024 22:5:26 [alert] alert: "Garbage collector issue {}"
1/18/2024 22:15:27 [alert] 1: "BEGIN PKREQUESTMANAGER.CALLQUERY(1,'NOT0000001','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,01/01/24,01/31/24}','{HN}', :cursor); END;"
1/18/2024 22:15:28 [alert] 1: "[{\"ALTID\":\"LOS0000000002\",\"ALTQUERY\":\"LOS0000000002\",\"ALTFILE\":\"/Users/bbsymphony/Workspace/controlRoom/controlRoom_server/server/alerts/LOS_ATTRI_MOVEMENT.xml\",\"ALTSUBJECT\":\"Loss and Prevention - Monthly movement data for \",\"ALTCONTENT\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTSMSCONTENT\":\"Check your email for detail, loss and prevention (# total) : \",\"ALTREALTIME\":0,\"ALTORIENTATION\":\"landscape\",\"ALTPRINTAREA\":null,\"ALTMARGIN\":\"{ left: 0.3, right: 0.3,top: 0.5, bottom: 0.75, header: 0.3, footer: 0.3}\",\"ALTFITPAGE\":1,\"ALTFITHEIGHT\":10,\"ALTFITWIDTH\":1,\"ALTTITLEREPEAT\":\"1:5\",\"ALTFOOTER\":\"&L&D&T&RPage &P of &N\",\"ALTFORMAT\":null,\"ALTFORMATXLS1\":null,\"ALTFORMATXLS2\":null,\"ALTBORDER\":0,\"ALTCONTENTHTML\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTXLSBREAK\":null,\"ALTSCALE\":100,\"ALTCOLMOVE\":null,\"ALTTITLEXLS\":null,\"ALTTITLEXLSCOLOR\":\"FF000000\",\"ALTFREEZEHEADER\":1,\"ALTFREEZECOLUMN\":0,\"ALTFORMATTAB2XLS1\":null,\"ALTFORMATTAB2XLS2\":null,\"ALTEMAIL\":\"abenamrouche@heinens.com;\",\"ALTEMAILCC\":null,\"ALTEMAILBCC\":null,\"ALTMOBILE\":null}]"
1/18/2024 22:15:28 [alert] 1: "1 Object(s) returned... [FETCH]"
1/18/2024 22:15:28 [alert] alert: "Garbage collector issue {}"
1/18/2024 22:15:28 [alert] 2: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(2,'\n        SELECT DECODE(casvrec, 0, ''WARNING'', ''NORMAL'')  as CRITICALITY,\n                DECODE(casvrec, 0, ''Sales load FAILED - Open a Helpdesk ticket, they will generate the report once fixed'', ''Sales loaded successfully '')  as MESSAGE\n        FROM (SELECT casvrec FROM calsite@Heinens_Custom_Prod\n              WHERE TRUNC(casdate)=TRUNC(SYSDATE-1)\n              AND 50 > cassite\n\t      order by casvrec asc)\n        WHERE rownum=1\n    ','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,01/01/24,01/31/24}','{HN}', :cursor); END;"
1/18/2024 22:15:30 [alert] 2: "[{\"CRITICALITY\":\"NORMAL\",\"MESSAGE\":\"Sales loaded successfully \"}]"
1/18/2024 22:15:30 [alert] 2: "1 Object(s) returned... [FETCH]"
1/18/2024 22:15:30 [alert] 3: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(3,' \n\n/* Loss and prevention - Stock movement information for a period by ATTRIBUTE*/\nWITH attributelist AS (SELECT DISTINCT aatcinr cinrStr, pkstrucobj.get_cext@heinens_custom_prod(1,objpere) cextStr  FROM artattri@heinens_custom_prod, strucrel@heinens_custom_prod\n               WHERE TRUNC(CURRENT_DATE+1) BETWEEN  aatddeb AND aatdfin\n               AND TRUNC(CURRENT_DATE) BETWEEN objddeb and objdfin\n\t       AND objcint=aatcinr\n               AND aatccla=:param2\n\t       AND aatcatt=:param3\n)\nSELECT /*+ leading(art) */\nDISTINCT STMSITE \"Site\",\n         ARTCEXR \"Item code\",\n         pkstrucobj.get_desc@heinens_custom_prod(1, aruclibl, ''HN'') \"Description\",\n         ARLCEXVL \"LV\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, ARUTYPUL, ''HN'') \"LU type\",\n         TO_CHAR(STMDMVT, ''MM/DD/RR'') \"Movement date\",\n         TO_CHAR(STMDMVT, ''HH24:MI:SS'') \"Time\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 1068, STMTMVT, ''HN'') \"Movement type\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 506, STMMOTF, ''HN'') \"Rsn.\",\n         STMSEQ \"Movement no.\",\n         ROUND(Decode(artustk,\n                      2,\n                      stmrea,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmrea),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmrea,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmrea,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1))),\n               10) \"Replen. qty\",\n         Decode(artustk,\n                2,\n                PKSTOCK.getUniteStockReappro@heinens_custom_prod(1, 0, artustk, artufac, ''HN''),\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmrea),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockReappro@heinens_custom_prod(1,\n                                                    0,\n                                                    artustk,\n                                                    artufac,\n                                                    ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN''))) \"Unit\",\n         ROUND(Decode(artustk,\n                      1,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmval),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmval,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmval,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1)),\n                      stmval),\n               10) \"Valuation qty\",\n         Decode(artustk,\n                1,\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmval),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN'')),\n                PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN'')) \"Unit\",\n         ROUND(STMVPV / DECODE(STOMVT.STMVAL, 0, 1, STOMVT.STMVAL), 3) \"Sales price\",\n         REPLACE(pkartstock.getLibUniteFacturByCinr@heinens_custom_prod(1, artcinr, 0, ''HN''),\n                 ''-1'',\n                 '''') \"SP unit\",\n         STMVPV \"Amount\",\n         decode(STMCEXMVT, NULL, NULL, STMNLIG) \"Operation code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  506,\n                                  STMIMPU,\n                                  ''HN'') \"Charging code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  1066,\n                                  STMTPOS,\n                                  ''HN'') \"Position type\",\n         decode(STMTPOS,\n                2,\n                decode(pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS),\n                       ''-1'',\n                       ''0'',\n                       pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS)),\n                STMNPOS) \"Position no.\",\n         STMNLIG \"Operation line no.\",\n         STMVPA \"Purchase price value\",\n         stmvpr \"Cost price value\",\n         stmmcre \"Incl. CP layer adjustment\",\n         stmcrea \"Incl. PP layer adjustment\",\n         stmmdre \"Incl. cost markdown\",\n         stmdrea \"Incl. purchase markdown\",\n         STMVPR + STMMLPP \"PR val. w/o disc.\",\n         stmmdar \"Cost mark. ad. am.\",\n         stmdara \"Purch. mark. add. amt\",\n         stmtva \"VAT value\",\n         stmmdvt \"Generated SP mark.\",\n         REPLACE(stmnmvc, -1, NULL) \"Reversal mvmt no.\",\n         REPLACE(stmctpt, -1, NULL) \"Transf. reversal site\",\n         REPLACE(PKSITDGENE.get_sitedescription@heinens_custom_prod(1, STMCTPT), ''-1'', '''') \"Description\",\n         STMMLPP \"Cost LPP mark.\",\n         STMLPPA \"Purch. LPP mark.\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                            STMSITE,\n                                                                                            STMCINL,\n                                                                                            STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                           STMSITE,\n                                                           STMCINL,\n                                                           STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Avail. qty\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                       STMSITE,\n                                                       STMCINL,\n                                                       STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Ordered quantity\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                STMSITE,\n                                                                                STMCINL,\n                                                                                STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Blocked qty\",\n         ROUND(NVL(pkstock.getStockDispoEnValeurVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                   0),\n               3) \"Stock in value\",\n         ROUND((STMVPA / decode(Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval),\n                                0,\n                                1,\n                                Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval))),\n               5) \"Unit purchase price\",\n         ROUND(nvl(STMUPR, 0),5) \"Unit cost\",\n         STMSTOC \"Managed in stock\",\n         cextStr \"Merchandise hierarchy\"\n  FROM ARTRAC@heinens_custom_prod,\n       ARTUL@heinens_custom_prod,\n       STOMVT@heinens_custom_prod,\n       ARTVL@heinens_custom_prod,\n\tattributelist\t\n  WHERE artcinr=cinrStr\n   AND ARUCINR = ARTCINR\n   AND stmcinl = arucinl\n   AND artcinr = arlcinr\n   /* AND artcexr=''134356'' */\n   AND STMDMVT >= TO_DATE(:param4, ''MM/DD/RR'')\n   AND TO_DATE(:param5, ''MM/DD/RR'') + 1 > STMDMVT\n   AND EXISTS\n (SELECT 1\n          FROM GRDETSITE@heinens_custom_prod\n         WHERE GSDNGR = 100\n           AND TRUNC(CURRENT_DATE) BETWEEN gsdddeb AND gsddfin\n           AND STMSITE = gsdsite)\n   AND STMSEQVL = arlseqvl\nAND NOT EXISTS (SELECT 1 FROM calsite@Heinens_Custom_Prod\n                    WHERE TRUNC(casdate) BETWEEN TRUNC(SYSDATE-5) AND TRUNC(SYSDATE-1)\n                    AND 50 > cassite\n                    AND casopen=1\n                    AND casvrec =0)\n\n','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,01/01/24,01/31/24}','{HN}', :cursor); END;"
1/18/2024 22:23:26 [alert] 3: "83571 Object(s) returned... [FETCH]"
1/18/2024 22:23:33 [alert] alert: "Error setPrintArea \"Unexpected token l in JSON at position 2\""
1/18/2024 22:23:33 [alert] alert: "ws.pageSetup : {\"margins\":{\"left\":0.7,\"right\":0.7,\"top\":0.75,\"bottom\":0.75,\"header\":0.3,\"footer\":0.3},\"orientation\":\"landscape\",\"horizontalDpi\":4294967295,\"verticalDpi\":4294967295,\"fitToPage\":true,\"pageOrder\":\"downThenOver\",\"blackAndWhite\":false,\"draft\":false,\"cellComments\":\"None\",\"errors\":\"displayed\",\"scale\":100,\"fitToWidth\":1,\"fitToHeight\":10,\"showRowColHeaders\":false,\"showGridLines\":false,\"horizontalCentered\":false,\"verticalCentered\":false,\"rowBreaks\":null,\"colBreaks\":null,\"printTitlesRow\":\"1:5\"}"
1/18/2024 22:24:11 [alert] alert: "Text-message sent to:null subject: Loss and Prevention - Monthly movement data for  period  to  on Wellness items (Attribute WELL/Y)"
1/18/2024 22:24:11 [alert] alert: "Message sent: Check your email for detail, loss and prevention (# total) :  : 83571<br><b>Distribution list : </b> abenamrouche@heinens.com;"
1/18/2024 22:24:11 [alert] 4: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(4,'INSERT INTO ALERTLOG  SELECT ''LOS0000000002'', SYSDATE, utl_raw.cast_to_raw(''{big data}''),1,2000)), sysdate, sysdate, ''notification.js'', ''83571'' from DUAL','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,01/01/24,01/31/24}','{HN}', :cursor); END;"
1/18/2024 22:24:18 [alert] alert: {"code":"EENVELOPE","command":"API"}
1/18/2024 22:24:19 [alert] 4: "[{\"'EXECUTINGISSUE,CHECKDBMS_SQL.EXECUTERIGHTS.-923-ORA-00923:FROMKEYWORDNOTFOUNDWHEREEXPECTED'\":\"Executing issue, check DBMS_SQL.EXECUTE rights. -923-ORA-00923: FROM keyword not found where expected\"}]"
1/18/2024 22:24:19 [alert] 4: "1 Object(s) returned... [FETCH]"
1/18/2024 22:24:22 [alert] alert: "Sending email sent to:abenamrouche@heinens.com; cc:null bcc:null subject: Loss and Prevention - Monthly movement data for  period  to  on Wellness items (Attribute WELL/Y) [83571 Object(s)] "
1/18/2024 22:24:23 [alert] alert: "Error sending email function call: abenamrouche@heinens.com; Loss and Prevention - Monthly movement data for  period  to  on Wellness items (Attribute WELL/Y) [83571 Object(s)] "
1/18/2024 22:24:23 [alert] alert: "Error sending email ERROR details: {\"errno\":-2,\"code\":\"ESTREAM\",\"syscall\":\"open\",\"path\":\"/home/hnpcen/heinensapps/controlRoom_server/cache/message.1705613063364-4853b214446e04f67117eb3017e1\",\"command\":\"API\"}"
1/18/2024 22:24:23 [alert] alert: "Text-message sent to:6789863021@tmomail.net subject: SPAM alert Loss and Prevention - Monthly movement data for  period  to  on Wellness items (Attribute WELL/Y) [83571 Object(s)] "
1/18/2024 22:24:23 [alert] alert: "Message sent: {\"errno\":-2,\"code\":\"ESTREAM\",\"syscall\":\"open\",\"path\":\"/home/hnpcen/heinensapps/controlRoom_server/cache/message.1705613063364-4853b214446e04f67117eb3017e1\",\"command\":\"API\"}"
1/18/2024 22:24:23 [alert] alert: "Resending email with lower content: <div style=\"position: absolute; top: 0; left: 0;  width: 100%; text-align: center;background-color: #32CD32;\"><span style=\"font-weight: bolder;color:#000000\">Sales loaded successfully </span></div><br><br><strong>Loss and Prevention - Monthly movement data for  period  to  on Wellness items (Attribute WELL/Y) [83571 Object(s)] </strong><br><br>Below GOLD Stock movement data for a period and a given attribute.<br>\nThis extract is for Loss and Prevention purpose only.<br><br><br><br>Refer to the attachment for details. Content can not be displayed in the email body."
1/18/2024 22:25:51 [alert] 1: "BEGIN PKREQUESTMANAGER.CALLQUERY(1,'NOT0000001','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
1/18/2024 22:25:53 [alert] 1: "[{\"ALTID\":\"LOS0000000002\",\"ALTQUERY\":\"LOS0000000002\",\"ALTFILE\":\"/Users/bbsymphony/Workspace/controlRoom/controlRoom_server/server/alerts/LOS_ATTRI_MOVEMENT.xml\",\"ALTSUBJECT\":\"Loss and Prevention - Monthly movement data for \",\"ALTCONTENT\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTSMSCONTENT\":\"Check your email for detail, loss and prevention (# total) : \",\"ALTREALTIME\":0,\"ALTORIENTATION\":\"landscape\",\"ALTPRINTAREA\":null,\"ALTMARGIN\":\"{ left: 0.3, right: 0.3,top: 0.5, bottom: 0.75, header: 0.3, footer: 0.3}\",\"ALTFITPAGE\":1,\"ALTFITHEIGHT\":10,\"ALTFITWIDTH\":1,\"ALTTITLEREPEAT\":\"1:5\",\"ALTFOOTER\":\"&L&D&T&RPage &P of &N\",\"ALTFORMAT\":null,\"ALTFORMATXLS1\":null,\"ALTFORMATXLS2\":null,\"ALTBORDER\":0,\"ALTCONTENTHTML\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTXLSBREAK\":null,\"ALTSCALE\":100,\"ALTCOLMOVE\":null,\"ALTTITLEXLS\":null,\"ALTTITLEXLSCOLOR\":\"FF000000\",\"ALTFREEZEHEADER\":1,\"ALTFREEZECOLUMN\":0,\"ALTFORMATTAB2XLS1\":null,\"ALTFORMATTAB2XLS2\":null,\"ALTEMAIL\":\"abenamrouche@heinens.com;\",\"ALTEMAILCC\":null,\"ALTEMAILBCC\":null,\"ALTMOBILE\":null}]"
1/18/2024 22:25:53 [alert] 1: "1 Object(s) returned... [FETCH]"
1/18/2024 22:25:53 [alert] alert: "Garbage collector issue {}"
1/18/2024 22:25:53 [alert] 2: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(2,'\n        SELECT DECODE(casvrec, 0, ''WARNING'', ''NORMAL'')  as CRITICALITY,\n                DECODE(casvrec, 0, ''Sales load FAILED - Open a Helpdesk ticket, they will generate the report once fixed'', ''Sales loaded successfully '')  as MESSAGE\n        FROM (SELECT casvrec FROM calsite@Heinens_Custom_Prod\n              WHERE TRUNC(casdate)=TRUNC(SYSDATE-1)\n              AND 50 > cassite\n\t      order by casvrec asc)\n        WHERE rownum=1\n    ','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
1/18/2024 22:25:55 [alert] 2: "[{\"CRITICALITY\":\"NORMAL\",\"MESSAGE\":\"Sales loaded successfully \"}]"
1/18/2024 22:25:55 [alert] 2: "1 Object(s) returned... [FETCH]"
1/18/2024 22:25:55 [alert] 3: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(3,' \n\n/* Loss and prevention - Stock movement information for a period by ATTRIBUTE*/\nWITH attributelist AS (SELECT DISTINCT aatcinr cinrStr, pkstrucobj.get_cext@heinens_custom_prod(1,objpere) cextStr  FROM artattri@heinens_custom_prod, strucrel@heinens_custom_prod\n               WHERE TRUNC(CURRENT_DATE+1) BETWEEN  aatddeb AND aatdfin\n               AND TRUNC(CURRENT_DATE) BETWEEN objddeb and objdfin\n\t       AND objcint=aatcinr\n               AND aatccla=:param2\n\t       AND aatcatt=:param3\n)\nSELECT /*+ leading(art) */\nDISTINCT STMSITE \"Site\",\n         ARTCEXR \"Item code\",\n         pkstrucobj.get_desc@heinens_custom_prod(1, aruclibl, ''HN'') \"Description\",\n         ARLCEXVL \"LV\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, ARUTYPUL, ''HN'') \"LU type\",\n         TO_CHAR(STMDMVT, ''MM/DD/RR'') \"Movement date\",\n         TO_CHAR(STMDMVT, ''HH24:MI:SS'') \"Time\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 1068, STMTMVT, ''HN'') \"Movement type\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 506, STMMOTF, ''HN'') \"Rsn.\",\n         STMSEQ \"Movement no.\",\n         ROUND(Decode(artustk,\n                      2,\n                      stmrea,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmrea),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmrea,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmrea,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1))),\n               10) \"Replen. qty\",\n         Decode(artustk,\n                2,\n                PKSTOCK.getUniteStockReappro@heinens_custom_prod(1, 0, artustk, artufac, ''HN''),\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmrea),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockReappro@heinens_custom_prod(1,\n                                                    0,\n                                                    artustk,\n                                                    artufac,\n                                                    ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN''))) \"Unit\",\n         ROUND(Decode(artustk,\n                      1,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmval),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmval,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmval,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1)),\n                      stmval),\n               10) \"Valuation qty\",\n         Decode(artustk,\n                1,\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmval),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN'')),\n                PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN'')) \"Unit\",\n         ROUND(STMVPV / DECODE(STOMVT.STMVAL, 0, 1, STOMVT.STMVAL), 3) \"Sales price\",\n         REPLACE(pkartstock.getLibUniteFacturByCinr@heinens_custom_prod(1, artcinr, 0, ''HN''),\n                 ''-1'',\n                 '''') \"SP unit\",\n         STMVPV \"Amount\",\n         decode(STMCEXMVT, NULL, NULL, STMNLIG) \"Operation code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  506,\n                                  STMIMPU,\n                                  ''HN'') \"Charging code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  1066,\n                                  STMTPOS,\n                                  ''HN'') \"Position type\",\n         decode(STMTPOS,\n                2,\n                decode(pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS),\n                       ''-1'',\n                       ''0'',\n                       pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS)),\n                STMNPOS) \"Position no.\",\n         STMNLIG \"Operation line no.\",\n         STMVPA \"Purchase price value\",\n         stmvpr \"Cost price value\",\n         stmmcre \"Incl. CP layer adjustment\",\n         stmcrea \"Incl. PP layer adjustment\",\n         stmmdre \"Incl. cost markdown\",\n         stmdrea \"Incl. purchase markdown\",\n         STMVPR + STMMLPP \"PR val. w/o disc.\",\n         stmmdar \"Cost mark. ad. am.\",\n         stmdara \"Purch. mark. add. amt\",\n         stmtva \"VAT value\",\n         stmmdvt \"Generated SP mark.\",\n         REPLACE(stmnmvc, -1, NULL) \"Reversal mvmt no.\",\n         REPLACE(stmctpt, -1, NULL) \"Transf. reversal site\",\n         REPLACE(PKSITDGENE.get_sitedescription@heinens_custom_prod(1, STMCTPT), ''-1'', '''') \"Description\",\n         STMMLPP \"Cost LPP mark.\",\n         STMLPPA \"Purch. LPP mark.\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                            STMSITE,\n                                                                                            STMCINL,\n                                                                                            STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                           STMSITE,\n                                                           STMCINL,\n                                                           STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Avail. qty\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                       STMSITE,\n                                                       STMCINL,\n                                                       STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Ordered quantity\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                STMSITE,\n                                                                                STMCINL,\n                                                                                STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Blocked qty\",\n         ROUND(NVL(pkstock.getStockDispoEnValeurVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                   0),\n               3) \"Stock in value\",\n         ROUND((STMVPA / decode(Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval),\n                                0,\n                                1,\n                                Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval))),\n               5) \"Unit purchase price\",\n         ROUND(nvl(STMUPR, 0),5) \"Unit cost\",\n         STMSTOC \"Managed in stock\",\n         cextStr \"Merchandise hierarchy\"\n  FROM ARTRAC@heinens_custom_prod,\n       ARTUL@heinens_custom_prod,\n       STOMVT@heinens_custom_prod,\n       ARTVL@heinens_custom_prod,\n\tattributelist\t\n  WHERE artcinr=cinrStr\n   AND ARUCINR = ARTCINR\n   AND stmcinl = arucinl\n   AND artcinr = arlcinr\n   /* AND artcexr=''134356'' */\n   AND STMDMVT >= TO_DATE(:param4, ''MM/DD/RR'')\n   AND TO_DATE(:param5, ''MM/DD/RR'') + 1 > STMDMVT\n   AND EXISTS\n (SELECT 1\n          FROM GRDETSITE@heinens_custom_prod\n         WHERE GSDNGR = 100\n           AND TRUNC(CURRENT_DATE) BETWEEN gsdddeb AND gsddfin\n           AND STMSITE = gsdsite)\n   AND STMSEQVL = arlseqvl\nAND NOT EXISTS (SELECT 1 FROM calsite@Heinens_Custom_Prod\n                    WHERE TRUNC(casdate) BETWEEN TRUNC(SYSDATE-5) AND TRUNC(SYSDATE-1)\n                    AND 50 > cassite\n                    AND casopen=1\n                    AND casvrec =0)\n\n','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
1/18/2024 23:17:56 [alert] 1: "BEGIN PKREQUESTMANAGER.CALLQUERY(1,'NOT0000001','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
1/18/2024 23:17:58 [alert] 1: "[{\"ALTID\":\"LOS0000000002\",\"ALTQUERY\":\"LOS0000000002\",\"ALTFILE\":\"/Users/bbsymphony/Workspace/controlRoom/controlRoom_server/server/alerts/LOS_ATTRI_MOVEMENT.xml\",\"ALTSUBJECT\":\"Loss and Prevention - Monthly movement data for \",\"ALTCONTENT\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTSMSCONTENT\":\"Check your email for detail, loss and prevention (# total) : \",\"ALTREALTIME\":0,\"ALTORIENTATION\":\"landscape\",\"ALTPRINTAREA\":null,\"ALTMARGIN\":\"{ left: 0.3, right: 0.3,top: 0.5, bottom: 0.75, header: 0.3, footer: 0.3}\",\"ALTFITPAGE\":1,\"ALTFITHEIGHT\":10,\"ALTFITWIDTH\":1,\"ALTTITLEREPEAT\":\"1:5\",\"ALTFOOTER\":\"&L&D&T&RPage &P of &N\",\"ALTFORMAT\":null,\"ALTFORMATXLS1\":null,\"ALTFORMATXLS2\":null,\"ALTBORDER\":0,\"ALTCONTENTHTML\":\"Below GOLD Stock movement data for a period and a given attribute.<br>\\nThis extract is for Loss and Prevention purpose only.<br>\",\"ALTXLSBREAK\":null,\"ALTSCALE\":100,\"ALTCOLMOVE\":null,\"ALTTITLEXLS\":null,\"ALTTITLEXLSCOLOR\":\"FF000000\",\"ALTFREEZEHEADER\":1,\"ALTFREEZECOLUMN\":0,\"ALTFORMATTAB2XLS1\":null,\"ALTFORMATTAB2XLS2\":null,\"ALTEMAIL\":\"abenamrouche@heinens.com;\",\"ALTEMAILCC\":null,\"ALTEMAILBCC\":null,\"ALTMOBILE\":null}]"
1/18/2024 23:17:58 [alert] 1: "1 Object(s) returned... [FETCH]"
1/18/2024 23:17:58 [alert] alert: "Garbage collector issue {}"
1/18/2024 23:17:58 [alert] 2: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(2,'\n        SELECT DECODE(casvrec, 0, ''WARNING'', ''NORMAL'')  as CRITICALITY,\n                DECODE(casvrec, 0, ''Sales load FAILED - Open a Helpdesk ticket, they will generate the report once fixed'', ''Sales loaded successfully '')  as MESSAGE\n        FROM (SELECT casvrec FROM calsite@Heinens_Custom_Prod\n              WHERE TRUNC(casdate)=TRUNC(SYSDATE-1)\n              AND 50 > cassite\n\t      order by casvrec asc)\n        WHERE rownum=1\n    ','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
1/18/2024 23:18:0 [alert] 2: "[{\"CRITICALITY\":\"NORMAL\",\"MESSAGE\":\"Sales loaded successfully \"}]"
1/18/2024 23:18:0 [alert] 2: "1 Object(s) returned... [FETCH]"
1/18/2024 23:18:0 [alert] 3: "BEGIN PKREQUESTMANAGER.EXECUTEQUERY(3,' \n\n/* Loss and prevention - Stock movement information for a period by ATTRIBUTE*/\nWITH attributelist AS (SELECT DISTINCT aatcinr cinrStr, pkstrucobj.get_cext@heinens_custom_prod(1,objpere) cextStr  FROM artattri@heinens_custom_prod, strucrel@heinens_custom_prod\n               WHERE TRUNC(CURRENT_DATE+1) BETWEEN  aatddeb AND aatdfin\n               AND TRUNC(CURRENT_DATE) BETWEEN objddeb and objdfin\n\t       AND objcint=aatcinr\n               AND aatccla=:param2\n\t       AND aatcatt=:param3\n)\nSELECT /*+ leading(art) */\nDISTINCT STMSITE \"Site\",\n         ARTCEXR \"Item code\",\n         pkstrucobj.get_desc@heinens_custom_prod(1, aruclibl, ''HN'') \"Description\",\n         ARLCEXVL \"LV\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, ARUTYPUL, ''HN'') \"LU type\",\n         TO_CHAR(STMDMVT, ''MM/DD/RR'') \"Movement date\",\n         TO_CHAR(STMDMVT, ''HH24:MI:SS'') \"Time\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 1068, STMTMVT, ''HN'') \"Movement type\",\n         pkparpostes.get_postlibc@heinens_custom_prod(1, 0, 506, STMMOTF, ''HN'') \"Rsn.\",\n         STMSEQ \"Movement no.\",\n         ROUND(Decode(artustk,\n                      2,\n                      stmrea,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmrea),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmrea,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmrea,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1))),\n               10) \"Replen. qty\",\n         Decode(artustk,\n                2,\n                PKSTOCK.getUniteStockReappro@heinens_custom_prod(1, 0, artustk, artufac, ''HN''),\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmrea),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockReappro@heinens_custom_prod(1,\n                                                    0,\n                                                    artustk,\n                                                    artufac,\n                                                    ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN''))) \"Unit\",\n         ROUND(Decode(artustk,\n                      1,\n                      DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          abs(stmval),\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1),\n                             -1,\n                             stmval,\n                             pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                          stmval,\n                                                          stmcinl,\n                                                          stmseqvl,\n                                                          1)),\n                      stmval),\n               10) \"Valuation qty\",\n         Decode(artustk,\n                1,\n                DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                    abs(stmval),\n                                                    stmcinl,\n                                                    stmseqvl,\n                                                    1),\n                       -1,\n                       PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN''),\n                       pkparpostes.get_postlibl@heinens_custom_prod(1, 0, 731, 1, ''HN'')),\n                PKSTOCK.getUniteStockValo@heinens_custom_prod(1, 0, artufac, ''HN'')) \"Unit\",\n         ROUND(STMVPV / DECODE(STOMVT.STMVAL, 0, 1, STOMVT.STMVAL), 3) \"Sales price\",\n         REPLACE(pkartstock.getLibUniteFacturByCinr@heinens_custom_prod(1, artcinr, 0, ''HN''),\n                 ''-1'',\n                 '''') \"SP unit\",\n         STMVPV \"Amount\",\n         decode(STMCEXMVT, NULL, NULL, STMNLIG) \"Operation code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  506,\n                                  STMIMPU,\n                                  ''HN'') \"Charging code\",\n         pkparpostes.get_postlibl@heinens_custom_prod(1,\n                                  10,\n                                  1066,\n                                  STMTPOS,\n                                  ''HN'') \"Position type\",\n         decode(STMTPOS,\n                2,\n                decode(pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS),\n                       ''-1'',\n                       ''0'',\n                       pkopros.get_CEXT@heinens_custom_prod(1, STMNPOS)),\n                STMNPOS) \"Position no.\",\n         STMNLIG \"Operation line no.\",\n         STMVPA \"Purchase price value\",\n         stmvpr \"Cost price value\",\n         stmmcre \"Incl. CP layer adjustment\",\n         stmcrea \"Incl. PP layer adjustment\",\n         stmmdre \"Incl. cost markdown\",\n         stmdrea \"Incl. purchase markdown\",\n         STMVPR + STMMLPP \"PR val. w/o disc.\",\n         stmmdar \"Cost mark. ad. am.\",\n         stmdara \"Purch. mark. add. amt\",\n         stmtva \"VAT value\",\n         stmmdvt \"Generated SP mark.\",\n         REPLACE(stmnmvc, -1, NULL) \"Reversal mvmt no.\",\n         REPLACE(stmctpt, -1, NULL) \"Transf. reversal site\",\n         REPLACE(PKSITDGENE.get_sitedescription@heinens_custom_prod(1, STMCTPT), ''-1'', '''') \"Description\",\n         STMMLPP \"Cost LPP mark.\",\n         STMLPPA \"Purch. LPP mark.\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                            STMSITE,\n                                                                                            STMCINL,\n                                                                                            STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                           STMSITE,\n                                                           STMCINL,\n                                                           STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockDispoEnQteuvc_VL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Avail. qty\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                        STMSITE,\n                                                                                        STMCINL,\n                                                                                        STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                       STMSITE,\n                                                       STMCINL,\n                                                       STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockEnCommandeVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Ordered quantity\",\n         ROUND(DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   abs(NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                    STMSITE,\n                                                                                    STMCINL,\n                                                                                    STMSEQVL),\n                                                           0)),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1),\n                      -1,\n                      NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                          0),\n                      pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                   NVL(pkstock.getStockBloqueVL@heinens_custom_prod(1,\n                                                                                STMSITE,\n                                                                                STMCINL,\n                                                                                STMSEQVL),\n                                                       0),\n                                                   stmcinl,\n                                                   stmseqvl,\n                                                   1)),\n               10) \"Blocked qty\",\n         ROUND(NVL(pkstock.getStockDispoEnValeurVL@heinens_custom_prod(1,\n                                                   STMSITE,\n                                                   STMCINL,\n                                                   STMSEQVL),\n                   0),\n               3) \"Stock in value\",\n         ROUND((STMVPA / decode(Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval),\n                                0,\n                                1,\n                                Decode(artustk,\n                                       1,\n                                       DECODE(pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           abs(stmval),\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1),\n                                              -1,\n                                              stmval,\n                                              pkartstock.ConvertirQteUl_VL@heinens_custom_prod(1,\n                                                                           stmval,\n                                                                           stmcinl,\n                                                                           stmseqvl,\n                                                                           1)),\n                                       stmval))),\n               5) \"Unit purchase price\",\n         ROUND(nvl(STMUPR, 0),5) \"Unit cost\",\n         STMSTOC \"Managed in stock\",\n         cextStr \"Merchandise hierarchy\"\n  FROM ARTRAC@heinens_custom_prod,\n       ARTUL@heinens_custom_prod,\n       STOMVT@heinens_custom_prod,\n       ARTVL@heinens_custom_prod,\n\tattributelist\t\n  WHERE artcinr=cinrStr\n   AND ARUCINR = ARTCINR\n   AND stmcinl = arucinl\n   AND artcinr = arlcinr\n   /* AND artcexr=''134356'' */\n   AND STMDMVT >= TO_DATE(:param4, ''MM/DD/RR'')\n   AND TO_DATE(:param5, ''MM/DD/RR'') + 1 > STMDMVT\n   AND EXISTS\n (SELECT 1\n          FROM GRDETSITE@heinens_custom_prod\n         WHERE GSDNGR = 100\n           AND TRUNC(CURRENT_DATE) BETWEEN gsdddeb AND gsddfin\n           AND STMSITE = gsdsite)\n   AND STMSEQVL = arlseqvl\nAND NOT EXISTS (SELECT 1 FROM calsite@Heinens_Custom_Prod\n                    WHERE TRUNC(casdate) BETWEEN TRUNC(SYSDATE-5) AND TRUNC(SYSDATE-1)\n                    AND 50 > cassite\n                    AND casopen=1\n                    AND casvrec =0)\n\n','alert','{HEINENS_CUSTOM_PROD}', '{LOS0000000002,WELL,Y,12/01/23,12/31/23}','{HN}', :cursor); END;"
